### [1211. 蚂蚁感冒 - AcWing题库](https://www.acwing.com/problem/content/1213/)

#数学

长 100 厘米的细长直杆子上有 $n$ 只蚂蚁。

它们的头有的朝左，有的朝右。

每只蚂蚁都只能沿着杆子向前爬，速度是 1 厘米/秒。

当两只蚂蚁碰面时，它们会同时掉头往相反的方向爬行。

这些蚂蚁中，有 1 只蚂蚁感冒了。

并且在和其它蚂蚁碰面时，会把感冒传染给碰到的蚂蚁。

请你计算，当所有蚂蚁都爬离杆子时，有多少只蚂蚁患上了感冒。

#### 输入格式

第一行输入一个整数 $n$, 表示蚂蚁的总数。

接着的一行是 $n$ 个用空格分开的整数 $X_i$, $X_i$ 的绝对值表示蚂蚁离开杆子左边端点的距离。

正值表示头朝右，负值表示头朝左，数据中不会出现 0 值，也不会出现两只蚂蚁占用同一位置。

其中，第一个数据代表的蚂蚁感冒了。

#### 输出格式

输出1个整数，表示最后感冒蚂蚁的数目。

#### 数据范围

$1 < n < 50$,
$0<|X_i|<100$

#### 输入样例1：

```
3
5 -2 8
```

#### 输出样例1：

```
1
```

#### 输入样例2：

```
5
-10 8 -20 12 25
```

#### 输出样例2：

```
3
```

#### 思路

两只蚂蚁相撞掉头可以看作时一只蚂蚁穿过了另一只蚂蚁，因为相撞之后两只蚂蚁都感冒了，掉不掉头无所谓，毕竟都感冒了.

1. 感冒蚂蚁向右走
   - 右侧蚂蚁向左走——感染
   - 右侧蚂蚁向右走——不感染
   - 左侧蚂蚁向左走——不感染
   - 左侧蚂蚁向右走
     - 有右侧向左走——感染
     - 无右侧向左走——不感染

2. 感冒蚂蚁向左走
   - 左侧蚂蚁向右走——感染
   - 左侧蚂蚁向左走——不感染
   - 右侧蚂蚁向右走——不感染
   - 右侧蚂蚁向左走
     - 有左侧向右走——感染
     - 无左侧向右走——不感染


一般情况:
第一只蚂蚁不管方向朝哪里, 只要它右边的蚂蚁向左走就可能碰撞感染, 同样, 第一只蚂蚁左边的蚂蚁只要朝右边走也可能被感染, 这样就很容易得到 $ans=right+left+1$. 这里 $left$ 表示左边蚂蚁向右走的数量, $right$ 表示右边蚂蚁向左走的数量, $1$ 是指第一只蚂蚁本身. 

特殊情况:
当第一只蚂蚁向左走的时候, 如果第一只蚂蚁左边没有向右爬行的蚂蚁, 由于爬行速度相同, 所以不管第一只蚂蚁右边有多少向左爬行的, 其右边的蚂蚁永远不可能被感染; 第一只蚂蚁向右走同理.

#### 代码


```cpp
#include <iostream>

using namespace std;

const int N = 55;

int n;
int x[N];

int main(void){

    cin >> n;
    for (int i = 0; i < n; i ++ ) cin >> x[i];

    int left = 0, right = 0;
    // 分别表示左边向右走的蚂蚁数量，和右边向左走的蚂蚁数量
    for (int i = 1; i < n; i ++ ){
        if (abs(x[i]) < abs(x[0]) && x[i] > 0) left ++ ;
        else if (abs(x[i]) > abs(x[0]) && x[i] < 0) right ++ ;
    }
    
    if (x[0] > 0 && right == 0 || x[0] < 0 && left == 0) cout << 1 << endl;
    else cout << left + right + 1 << endl;

    return 0;
}
```



*2022-12-30 周五*